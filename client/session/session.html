<div>
<div ng-cloak>
    <md-content>
      <md-toolbar>
        <div class="md-toolbar-tools" >
        <!-- logo -->
          <h2>
            <span id="logo">Codify</span>
          </h2>
          <span flex></span>
          <!-- menu button -->
          <span style="font-size: .8em">Welcome, {{user.fullname}}!</span>
          <md-menu md-offset="0 50">
            <md-button class="md-icon-button" aria-label="Open menu" ng-click="$mdOpenMenu($event)">
              <md-icon md-svg-icon="../assests/list.svg" style="color:white"></md-icon>
            </md-button>
            <md-menu-content width="2">
              <md-menu-item>
                <md-button ng-click="">
                  <div ng-click="showReviewBox()">End Session</div>
                </md-button>
              </md-menu-item>
              <md-menu-item>
                <md-button ng-click="signOutUser()">
                  <div id="signOut">Sign Out</div>
                </md-button>
              </md-menu-item>
            </md-menu-content>
          </md-menu>
        </div>
      </md-toolbar>
    </md-content>
  </div><!-- close ng-cloak -->


<div id='session' data-ng-init="loadVideo()">
  <div class='sessionBody'>
    <md-toast>
    </md-toast>
    <br>
    <h2 class="edit">Edit your code here!</h2>
    <div class="codeDiv">
      <div ui-codemirror="cmOption" ng-model="sharedCode" ng-keydown="change(); typingUpdate()" id='codeDiv'>{{sharedCode}}</div>
      <div class='chooselanguage'>
        <div class="languageBtn"> Choose Language  <select ng-model="mode" ng-options="m for m in modes" ng-change="modeChanged()"></select> </div>
        <div class="sessionBtns"><md-button class='endsessionBtn' type='submit' ng-click="showReviewBox()"> End Session </md-button></div>
        <div class="sessionBtns"><md-button class='saveCodeBtn' type='submit' ng-click="saveCodeInDatabase()"> Save </md-button></div>
        <div class="sessionBtns"><md-button class='downloadCodeBtn' type='submit' ng-click="downloadCode()"> Download </md-button></div>
      </div>
      <p class='typing'>{{typing}}</p>
    </div>
    <br>
    <br>
    <div class="videoChatContainer">
      <div>
        <div class="videoChat">
          <div class="pane" id="pane_1" style="display: none">
            <input type="button" value="Join Conference Room" id="join" class="btn btn-info btn-default btn-block">
          </div>
          <div class="pane" id="pane_2" style="display: none">
            <div id="video_container"></div>
            <input type="button" value="Quit Conference Room" id="quit" class="btn btn-danger btn-default btn-block">
          </div>
        </div>
      </div>
      <div class="chatRoomSession">
        <div class="chatRoom">
          <div class="chatSession">
            <div>
              <h1>Chatroom</h1>
            </div>
            <div>
              <ul class="chatMsg">
                <li ng-repeat="msg in messages">
                  <strong>{{msg.from}}: </strong>{{msg.body}}
                </li>
              </ul>
            </div>
          </div>
          <div class="messageSession">
            <input ng-model="msg" ng-keydown="newMessage($event)" type="text" class="inputBoxSession" placeholder="Type a message...">
          </div>
        </div>
      </div>
    </div>
    <br>
    <br>
    <br>
  </div>
</div>
</div>